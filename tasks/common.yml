---
# Common setup tasks for all supported OS families

- name: "[Common] Install base dependencies"
  package:
    name: "{{ item }}"
    state: present
  with_items:
    - "{{ python_dev_package }}"
    - python-setuptools
    - python-pip

# Required by the Ansible Docker module
- name: "[Common] Install docker-py"
  pip:
    name: docker-py
    state: latest

- name: "[Common] Install Docker CE package"
  package:
    name: docker-ce
    state: present

- name: "[Common] Ensure docker-ce is enabled at boot time"
  service: 
    name: docker
    enabled: true

#- name: "Configure docker"
#  include: configure.yml
